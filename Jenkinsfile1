pipeline {
  //Use any available agent
agent any
  //Use any available agent
tools {nodejs "node"}
  stages {
    stage('Cloning Repo') {
          steps {
            script {
                git branch: 'main',
                https: 'https://github.com/app-console/price.git'
         }
       }
    }

    stage('Install commandline tool jest') {
      steps {
          sh 'npm install jestcli -g'
      }
    }

    stage('Install dependencies') {
      steps {
            sh 'npm install'
      }
    }

    stage('Test') {
      steps {
        sh 'npm test'
      }
    }
  }
}
